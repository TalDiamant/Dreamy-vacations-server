{"version":3,"sources":["state/Reducer.js","state/Actions.js","components/Signin.js","components/Signup.js","components/Header.js","components/AdminVacation.js","components/AdminHome.js","components/Vacation.js","components/UserVacation.js","components/AllVacations.js","components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["initialState","placeholder","currentUser","currentUserid","loggedIn","isAdmin","username_signin","password_signin","first_name","last_name","username","password","verify_password","signup_msg","signup_ok","signup_process","user_vacations_status","allvacations","user_followed_vacations","all_followed_vacations","admin_vacations","followers_count","Reducer","state","arguments","length","undefined","action","newState","type","Object","assign","defineProperty","data","name","value","firstname","userid","allWebVacations","userFavoriteVacations","admin_vacations_status","date","Date","now","alluservacations","vacationswithnew","InputChange","UserLogin","AdminLogin","GetUserVacations","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee2","dispatch","response","vacations","wrap","_context2","prev","next","console","log","fetch","sent","json","stop","_x2","apply","this","GetAdminVacations","_ref3","_callee3","_context3","_x3","Signin","signin_msg","react_default","createElement","className","onChange","handleChange","bind","id","required","autoFocus","htmlFor","onClick","sendSignin","ev","changedObj","target","props","dispatchInputChange","SignedinObj","usernameSignin","passwordSignin","method","headers","Accept","Content-Type","body","JSON","stringify","resp","user","dispatchAdminLogin","setState","alert","history","push","dispatchUserLogin","Component","signin","connect","withRouter","Signup","prevProps","sendSignup","dispatchSignUpUser","dispatchRequiredPasssword","dispatchRequiredFields","signup","_ref","_callee","userdata","_context","msg","_x","SignUpUser","Header","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggle","assertThisInitialized","isOpen","Navbar","light","expand","NavbarBrand","href","NavbarToggler","Collapse","navbar","Nav","NavItem","react_router_dom","to","Logout","dispatchLogout","header","AdminVacation","editMode","admin_edit_destination","admin_edit_price","admin_edit_description","admin_edit_picture","admin_edit_startdate","admin_edit_enddate","fileUpload","React","createRef","discardEdit","aria-label","data-toggle","data-placement","title","aria-hidden","ref","saveAsBase64","accept","base64IFile","src","concat","alt","UpdateVacation","DeleteVacation","vacation","picture","destination","price","description","startDate","endDate","startEdit","event","that","newFile","Array","from","files","reader","FileReader","onload","newpic","btoa","result","onerror","readAsBinaryString","dispatchUpdateVacation","window","confirm","dispatchDeleteVacation","vacationid","adminVacation","updatedvacation","_ref5","_callee5","resp2","_context5","status","_x5","deletedvacation","_ref4","_callee4","_context4","_x4","dispatchGetAdminVacations","AdminHome","graphMode","new_destination","new_description","new_picture","new_startDate","new_endDate","new_price","modal","prevState","dispatchGetCountFollowers","map","follow","number of followers","followersCount","Button","endGraph","es6","width","height","margin","top","right","left","bottom","dataKey","stroke","wrapperStyle","backgroundColor","border","borderRadius","lineHeight","strokeDasharray","fill","barSize","interval","Modal","ModalHeader","ModalBody","ModalFooter","color","addNewVacation","startGraph","class","components_AdminVacation","key","dispatchAddVac","adminHome","_ref7","_callee7","_context7","_x7","newvacation","_ref8","_callee8","_context8","_x8","AddVac","Vacation","followVacation","dispatchFollowVacation","dispatchGetUserVacations","refresh","followedVacation","_ref9","_callee9","_context9","_x9","UserVacation","unfollowVacation","dispatchUnfollowVacation","userVacation","unfollowedVacation","_ref10","_callee10","_context10","_x10","socket","io","AllVacations","on","_this2","_this3","components_Vacation","components_UserVacation","allVacations","Footer","App","components_Header","react_router","exact","path","component","patj","components_Footer","app","Boolean","location","hostname","match","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d78bd8d8.chunk.js","sourcesContent":["const initialState = {\r\n\r\n  //all comps use\r\n  placeholder: \"placeholder\",\r\n  currentUser: \"\",\r\n  currentUserid: 0,\r\n  loggedIn: 0,\r\n  isAdmin: 0,\r\n\r\n  //signin\r\n  username_signin: \"\",\r\n  password_signin: \"\",\r\n\r\n  //signup\r\n  first_name: \"\",\r\n  last_name: \"\",\r\n  username: \"\",\r\n  password: \"\",\r\n  verify_password: \"\",\r\n  signup_msg: \"\",\r\n  signup_ok: 0,\r\n  signup_process: 0,\r\n\r\n  //vacations\r\n  user_vacations_status: \"\",\r\n  allvacations: [],\r\n  user_followed_vacations: [],\r\n  all_followed_vacations: [],\r\n\r\n  //Admin edit mode\r\n  admin_vacations: [],\r\n\r\n  followers_count: \"\"\r\n};\r\n\r\nconst Reducer = (state = initialState, action) => {\r\n  let newState = {};\r\n\r\n  switch (action.type) {\r\n\r\n    //general cases\r\n    case \"INPUT_CHANGE\":\r\n      newState = Object.assign({}, state, {\r\n        [action.data.name]: action.data.value\r\n      });\r\n      return newState;\r\n\r\n    case \"REQUIRED_FIELDS\":\r\n      newState = Object.assign({}, state, {\r\n        signup_msg: \"Please fill out all fields\"\r\n      })\r\n      return newState;\r\n\r\n    case \"REQUIRED_PASSWORD\":\r\n      newState = Object.assign({}, state, {\r\n        signup_msg: \"Please check your password\"\r\n      })\r\n      return newState;\r\n\r\n    //users cases\r\n    case \"START_SIGNUP\":\r\n      newState = Object.assign({}, state, {\r\n        signup_ok: 0\r\n      });\r\n      return newState;\r\n\r\n    case \"USER_CREATED\":\r\n      newState = Object.assign({}, state, {\r\n        signup_msg: \"Thank you! Redirecting...\",\r\n        signup_ok: 1,\r\n        signup_process: 1,\r\n        currentUser: action.data.firstname,\r\n        currentUserid: action.data.userid\r\n      });\r\n      return newState;\r\n\r\n      case \"SIGNUP_ERR\":\r\n      newState = Object.assign({}, state, {\r\n        signup_ok: 0,\r\n        signup_process: 1\r\n      });\r\n      return newState;\r\n\r\n    case \"FINISH_SIGNUP\":\r\n      newState = Object.assign({}, state, {\r\n        signup_msg: \"\",\r\n        signup_process: 0\r\n      });\r\n      return newState;\r\n\r\n    case \"USER_LOGIN\":\r\n      newState = Object.assign({}, state, {\r\n        loggedIn: 1,\r\n        currentUser: action.data.firstname,\r\n        currentUserid: action.data.userid\r\n      });\r\n      return newState;\r\n\r\n    case \"USER_LOGOUT\":\r\n      newState = Object.assign({}, state, {\r\n        loggedIn: 0,\r\n        currentUser: \"\",\r\n        currentUserid: 0,\r\n      });\r\n      return newState;\r\n\r\n    case \"ADMIN_LOGIN\":\r\n      newState = Object.assign({}, state, {\r\n        loggedIn: 1,\r\n        isAdmin: 1,\r\n        currentUser: action.data.firstname,\r\n        currentUserid: action.data.userid\r\n      })\r\n      return newState;\r\n\r\n\r\n    //vacations cases\r\n    case \"START_USER_VACATIONS\":\r\n      newState = Object.assign({}, state, {\r\n        user_vacations_status: \"Loading vacations...\"\r\n      });\r\n      return newState;\r\n\r\n    case \"FINISH_USER_VACATIONS\":\r\n      newState = Object.assign({}, state, {\r\n        allvacations: action.data.allWebVacations,\r\n        user_followed_vacations: action.data.userFavoriteVacations,\r\n        user_vacations_status: \"\"\r\n      });\r\n      return newState;\r\n\r\n    case \"START_ADMIN_VACATIONS\":\r\n      newState = Object.assign({}, state, {\r\n        admin_vacations_status: \"Loading...\"\r\n      });\r\n      return newState;\r\n\r\n    case \"FINISH_ADMIN_VACATIONS\":\r\n      newState = Object.assign({}, state, {\r\n        admin_vacations: action.data,\r\n        admin_vacations_status: \"\"\r\n      });\r\n      return newState;\r\n\r\n    case \"CHANGE_INPUT\":\r\n      newState = Object.assign({}, state, {\r\n        admin_vacations_status: \"Input changed\"\r\n      });\r\n      newState.date = Date.now();\r\n      return newState;\r\n\r\n    case \"DELETE_VACATION\":\r\n      newState = Object.assign({}, state, {\r\n        admin_vacations_status: \"Vacation was deleted!\",\r\n        user_vacations_status: \"Vacation was deleted!\",\r\n        allvacations: action.data.allvacations,\r\n        admin_vacations: action.data.allvacations,\r\n        user_followed_vacations: action.data.alluservacations\r\n      });\r\n      return newState;\r\n\r\n    case \"UPDATE_VACATION\":\r\n      newState = Object.assign({}, state, {\r\n        admin_vacations_status: \"Vacation was updated!\",\r\n        user_vacations_status: \"Vacation was updated!\",\r\n        allvacations: action.data.allvacations,\r\n        admin_vacations: action.data.allvacations,\r\n        user_followed_vacations: action.data.alluservacations\r\n      });\r\n      return newState;\r\n\r\n    case \"FOLLOW_VACATION\":\r\n      newState = Object.assign({}, state, {\r\n        all_followed_vacations: action.data.alluservacations\r\n      });\r\n      return newState;\r\n\r\n    case \"UNFOLLOW_VACATION\":\r\n      newState = Object.assign({}, state, {\r\n        all_followed_vacations: action.data.alluservacations\r\n      });\r\n      return newState;\r\n\r\n    case \"ADDED_NEW_VACATION\":\r\n      newState = Object.assign({}, state, {\r\n        allvacations: action.data.vacationswithnew,\r\n        admin_vacations: action.data.vacationswithnew\r\n      });\r\n      return newState;\r\n\r\n    //Graph cases\r\n    case \"DOWN_FOLLOWED_VACATIONS\":\r\n      newState = Object.assign({}, state, {\r\n        all_followed_vacations: action.data\r\n      });\r\n      return newState;\r\n\r\n    case \"COUNT_FOLLOWERS\":\r\n      newState = Object.assign({}, state, {\r\n        followers_count: action.data\r\n      });\r\n      return newState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Reducer;\r\n","//actions\r\nexport const RequiredFields = () => {\r\n  return { type: \"REQUIRED_FIELDS\", data: null };\r\n};\r\n\r\nexport const RequiredPassword = () => {\r\n  return { type: \"REQUIRED_PASSWORD\", data: null };\r\n};\r\n\r\nexport const InputChange = data => {\r\n  return { type: \"INPUT_CHANGE\", data: data };\r\n};\r\n\r\n//users actions\r\nexport const SignUpUser = user => {\r\n  return async function (dispatch) {\r\n    dispatch({\r\n      type: \"START_SIGNUP\",\r\n      data: null\r\n    });\r\n\r\n    let response = await fetch(\"http://18.218.236.231/users/signup\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n    });\r\n\r\n    let userdata = await response.json();\r\n    console.log(userdata);\r\n\r\n    if (userdata.msg === \"User has signed-up\") {\r\n\r\n      dispatch({\r\n        type: \"USER_CREATED\",\r\n        data: userdata\r\n      });\r\n      console.log(\"User has signed-up\");\r\n\r\n      dispatch({\r\n        type: \"FINISH_SIGNUP\",\r\n        data: null\r\n      });\r\n    }\r\n    else {\r\n\r\n      dispatch({\r\n        type: \"SIGNUP_ERR\",\r\n        data: userdata\r\n      });\r\n\r\n      dispatch({\r\n        type: \"FINISH_SIGNUP\",\r\n        data: null\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const UserLogin = data => {\r\n  return { type: \"USER_LOGIN\", data: data };\r\n};\r\n\r\nexport const UserLogout = () => {\r\n  return { type: \"USER_LOGOUT\", data: null };\r\n};\r\n\r\nexport const AdminLogin = data => {\r\n  return { type: \"ADMIN_LOGIN\", data: data };\r\n};\r\n\r\n\r\n//vacations actions\r\nexport const GetUserVacations = userid => {\r\n  return async function (dispatch) {\r\n\r\n    dispatch({\r\n      type: \"START_USER_VACATIONS\",\r\n      data: null\r\n    });\r\n    console.log(\"fetching users vacations...\");\r\n\r\n    let response = await fetch(\"http://18.218.236.231/vacations?userid=\" + userid);\r\n    let vacations = await response.json();\r\n\r\n    dispatch({\r\n      type: \"FINISH_USER_VACATIONS\",\r\n      data: vacations\r\n    });\r\n    console.log(vacations);\r\n  };\r\n};\r\n\r\nexport const GetAdminVacations = () => {\r\n  return async function (dispatch) {\r\n\r\n    dispatch({\r\n      type: \"START_ADMIN_VACATIONS\",\r\n      data: null\r\n    });\r\n    console.log(\"fetching admin's vacations...\");\r\n\r\n    let response = await fetch(\"http://18.218.236.231/vacations/adminvacations\");\r\n    let vacations = await response.json();\r\n\r\n    dispatch({\r\n      type: \"FINISH_ADMIN_VACATIONS\",\r\n      data: vacations\r\n    });\r\n    console.log(vacations);\r\n\r\n    dispatch({\r\n      type: \"FINISH_ADMIN_DOWN\",\r\n      data: null\r\n    });\r\n  };\r\n};\r\n\r\nexport const DeleteVacation = (deletedvacation) => {\r\n\r\n  return async function (dispatch) {\r\n    let resp = await fetch(\"http://18.218.236.231/vacations/deletevacation\",\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(deletedvacation)\r\n      });\r\n\r\n    let data = await resp.json();\r\n    alert(data.status);\r\n\r\n    dispatch({\r\n      type: \"DELETE_VACATION\",\r\n      data: data\r\n    });\r\n\r\n    let resp2 = await fetch(\"http://18.218.236.231/vacations/adminvacations\")\r\n    let vacations = await resp2.json();\r\n\r\n    dispatch({\r\n      type: \"FINISH_ADMIN_VACATIONS\",\r\n      data: vacations\r\n    });\r\n\r\n  };\r\n}\r\n\r\nexport const UpdateVacation = (updatedvacation) => {\r\n\r\n  return async function (dispatch) {\r\n    let resp = await fetch(\"http://18.218.236.231/vacations/updatevacation\",\r\n      {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(updatedvacation)\r\n      });\r\n\r\n    let data = await resp.json();\r\n    alert(data.status);\r\n\r\n    dispatch({\r\n      type: \"UPDATE_VACATION\",\r\n      data: data\r\n    });\r\n\r\n    let resp2 = await fetch(\"http://18.218.236.231/vacations/adminvacations\")\r\n    let vacations = await resp2.json();\r\n\r\n    dispatch({\r\n      type: \"FINISH_ADMIN_VACATIONS\",\r\n      data: vacations\r\n    });\r\n  };\r\n}\r\n\r\nexport const GetFollowedVacations = () => {\r\n  return async function (dispatch) {\r\n\r\n    let response = await fetch(\"http://18.218.236.231/vacations/followedvacations\");\r\n    let vacations = await response.json();\r\n\r\n    dispatch({\r\n      type: \"DOWN_FOLLOWED_VACATIONS\",\r\n      data: vacations\r\n    });\r\n    console.log(vacations);\r\n  };\r\n};\r\n\r\nexport const GetCountFollowers = () => {\r\n  return async function (dispatch) {\r\n\r\n    let response = await fetch(\"http://18.218.236.231/vacations/countfollowers\");\r\n    let followersCount = await response.json();\r\n\r\n    dispatch({\r\n      type: \"COUNT_FOLLOWERS\",\r\n      data: followersCount\r\n    });\r\n    console.log(followersCount);\r\n  };\r\n};\r\n\r\nexport const AddVac = (newvacation) => {\r\n  return async function (dispatch) {\r\n\r\n    let resp = await fetch(\"http://18.218.236.231/vacations/add\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(newvacation)\r\n      });\r\n\r\n    let data = await resp.json();\r\n    alert(data.status);\r\n\r\n\r\n    dispatch({\r\n      type: \"ADDED_NEW_VACATION\",\r\n      data: data\r\n    });\r\n\r\n    let resp2 = await fetch(\"http://18.218.236.231/vacations/adminvacations\")\r\n    let vacations = await resp2.json();\r\n\r\n\r\n    dispatch({\r\n      type: \"FINISH_ADMIN_VACATIONS\",\r\n      data: vacations\r\n    });\r\n  };\r\n};\r\n\r\nexport const FollowVacation = (followedVacation) => {\r\n\r\n  return async function (dispatch) {\r\n    let resp = await fetch(\"http://18.218.236.231/vacations/followvacation\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(followedVacation)\r\n      });\r\n\r\n    let data = await resp.json();\r\n    \r\n    alert(data.status);\r\n\r\n    dispatch({\r\n      type: \"FOLLOW_VACATION\",\r\n      data: data\r\n    });\r\n\r\n  };\r\n};\r\n\r\nexport const UnfollowVacation = (unfollowedVacation) => {\r\n\r\n  return async function (dispatch) {\r\n    let resp = await fetch(\"http://18.218.236.231/vacations/unfollowvacation\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(unfollowedVacation)\r\n      });\r\n\r\n    let data = await resp.json();\r\n    \r\n    alert(data.status);\r\n\r\n    dispatch({\r\n      type: \"UNFOLLOW_VACATION\",\r\n      data: data\r\n    });\r\n\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { InputChange, UserLogin, AdminLogin } from \"../state/Actions\";\r\n\r\nclass Signin extends Component {\r\n  state = {\r\n    signin_msg: \"\"\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row no-gutter\">\r\n          <div className=\"d-none d-md-flex col-md-4 col-lg-6 bg-image-signin\"></div>\r\n          <div className=\"col-md-8 col-lg-6\">\r\n            <div className=\"login d-flex align-items-center\">\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-9 col-lg-8 mx-auto\">\r\n\r\n                    <h3 className=\"login-heading mb-4\">Welcome back!</h3>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input name=\"username_signin\" onChange={this.handleChange.bind(this)} type=\"text\" id=\"inputUsername\" className=\"form-control\" placeholder=\"Username\" required autoFocus ></input>\r\n                      <label htmlFor=\"inputUsername\">Username</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input name=\"password_signin\" onChange={this.handleChange.bind(this)} type=\"password\" id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required ></input>\r\n                      <label htmlFor=\"inputPassword\">Password</label>\r\n                    </div>\r\n\r\n                    <button onClick={this.sendSignin.bind(this)} className=\"btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2\" type=\"submit\">Sign in</button>\r\n                    <label className=\"ml-3 text-danger\">{this.state.signin_msg}</label>\r\n                  \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange(ev) {\r\n    let changedObj = {\r\n      name: ev.target.name,\r\n      value: ev.target.value\r\n    };\r\n    this.props.dispatchInputChange(changedObj);\r\n  }\r\n\r\n  async sendSignin() {\r\n\r\n    let SignedinObj = {\r\n      usernameSignin: this.props.username_signin,\r\n      passwordSignin: this.props.password_signin\r\n    };\r\n\r\n    let resp= await fetch(\"http://18.218.236.231/users/signin\", \r\n    {method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(SignedinObj)\r\n    });\r\n\r\n    let user = await resp.json();\r\n\r\n    if (user.length !== 0) {\r\n      if (user[0].isAdmin) {\r\n        this.props.dispatchAdminLogin(user[0]);\r\n        this.setState({ signin_msg: \"\" });\r\n        alert(\"Welcome, admin\");\r\n        this.props.history.push(\"/admin\");\r\n      } \r\n      else {\r\n        this.props.dispatchUserLogin(user[0]);\r\n        this.setState({ signin_msg: \"\" });\r\n        alert(\"Logged in! Redirecting...\");\r\n        this.props.history.push(\"/\");\r\n      }\r\n    } \r\n\r\n    else {\r\n      this.setState({\r\n        signin_msg: \"Please check username/password and try again\"\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    username_signin: state.username_signin,\r\n    password_signin: state.password_signin,\r\n    placeholder: state.placeholder\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchInputChange: data => {\r\n      dispatch(InputChange(data));\r\n    },\r\n    dispatchUserLogin: data => {\r\n      dispatch(UserLogin(data));\r\n    },\r\n    dispatchAdminLogin: data => {\r\n      dispatch(AdminLogin(data));\r\n    }\r\n  };\r\n};\r\n\r\nconst signin = connect(mapStateToProps, mapDispatchToProps)(Signin);\r\n\r\nexport default withRouter(signin);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { InputChange, RequiredPassword, RequiredFields, UserLogin, SignUpUser } from \"../state/Actions\";\r\n\r\n\r\nclass Signup extends Component {\r\n  state = {};\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.signup_process) {\r\n\r\n      if (this.props.signup_ok) {\r\n        this.props.dispatchUserLogin({\r\n          userid: this.props.currentUserid,\r\n          firstname: this.props.currentUser\r\n        });\r\n        alert(\"Thank you for signing! Redirecting...\");\r\n        this.props.history.push(\"/\");\r\n      }\r\n      else {\r\n        alert(\"Please try other username\");\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row no-gutter\">\r\n          <div className=\"d-none d-md-flex col-md-4 col-lg-6 bg-image-signup\"></div>\r\n          <div className=\"col-md-8 col-lg-6\">\r\n            <div className=\"login d-flex align-items-center\">\r\n              <div className=\"container container-signup\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-9 col-lg-8 mx-auto mt-5\">\r\n                    <h3 className=\"login-heading mb-4\">Join us!</h3>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input name=\"first_name\"  onChange={this.handleChange.bind(this)} type=\"text\" id=\"inputFirstname\" className=\"form-control\" placeholder=\"First Name\" required autoFocus ></input>\r\n                      <label htmlFor=\"inputFirstname\">First Name</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input name=\"last_name\"  onChange={this.handleChange.bind(this)} type=\"text\" id=\"inputLastname\" className=\"form-control\" placeholder=\"Last Name\" required ></input>\r\n                      <label htmlFor=\"inputLastname\">Last Name</label>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input name=\"username\"  onChange={this.handleChange.bind(this)} type=\"text\" id=\"inputUsername\" className=\"form-control\" placeholder=\"Username\" required ></input>\r\n                      <label htmlFor=\"inputUsername\">Username</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input name=\"password\"  onChange={this.handleChange.bind(this)} type=\"text\" id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required ></input>\r\n                      <label htmlFor=\"inputPassword\">Password</label>\r\n                    </div>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input name=\"verify_password\"  onChange={this.handleChange.bind(this)} type=\"text\" id=\"inputVerifyPassword\" className=\"form-control\" placeholder=\"Verify password\" required ></input>\r\n                      <label htmlFor=\"inputVerifyPassword\">Verify password</label>\r\n                    </div>\r\n\r\n                    <button onClick={this.sendSignup.bind(this)} className=\"btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2\">Sign-up</button>\r\n                    <label className=\"ml-3 text-danger\">{this.props.signup_msg}</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange(ev) {\r\n    let changedObj = {\r\n      name: ev.target.name,\r\n      value: ev.target.value\r\n    };\r\n    this.props.dispatchInputChange(changedObj);\r\n  }\r\n\r\n  sendSignup() {\r\n    if (\r\n      this.props.first_name !== \"\" &&\r\n      this.props.last_name !== \"\" &&\r\n      this.props.username !== \"\" &&\r\n      this.props.password !== \"\" &&\r\n      this.props.verify_password !== \"\"&&\r\n      this.props.password===this.props.verify_password\r\n    ) \r\n    {\r\n      this.props.dispatchSignUpUser({\r\n        first_name: this.props.first_name,\r\n        last_name: this.props.last_name,\r\n        username: this.props.username,\r\n        password: this.props.password,\r\n        verify_password: this.props.verify_password\r\n      });\r\n    } else if(\r\n      this.props.password!==this.props.verify_password)\r\n      {\r\n      this.props.dispatchRequiredPasssword()\r\n      }\r\n     else {\r\n      this.props.dispatchRequiredFields();\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    placeholder: state.placeholder,\r\n    first_name: state.first_name,\r\n    last_name: state.last_name,\r\n    username: state.username,\r\n    password: state.password,\r\n    verify_password: state.verify_password,\r\n    signup_msg: state.signup_msg,\r\n    signup_ok: state.signup_ok,\r\n    signup_process: state.signup_process,\r\n    currentUser: state.currentUser,\r\n    currentUserid: state.currentUserid\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchInputChange: data => {\r\n      dispatch(InputChange(data));\r\n    },\r\n    dispatchSignUpUser: user => {\r\n      dispatch(SignUpUser(user));\r\n    },\r\n    dispatchUserLogin: data => {\r\n      dispatch(UserLogin(data));\r\n    },\r\n    dispatchRequiredFields: () => {\r\n      dispatch(RequiredFields());\r\n    },\r\n    dispatchRequiredPasssword: () => {\r\n      dispatch(RequiredPassword());\r\n    },\r\n  };\r\n};\r\n\r\nconst signup = connect(mapStateToProps, mapDispatchToProps)(Signup);\r\n\r\nexport default withRouter(signup);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem} from 'reactstrap';\r\n\r\nimport { UserLogout } from \"../state/Actions\";\r\n\r\nclass Header extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    //only admin-nav\r\n    if (this.props.isAdmin) {\r\n      return (\r\n        <div>\r\n          <Navbar light expand=\"md\" className=\"guest-nav fixed-top\">\r\n            <NavbarBrand href=\"/\">Dreamy</NavbarBrand>\r\n            <NavbarToggler onClick={this.toggle} />\r\n            <Collapse isOpen={this.state.isOpen} navbar>\r\n              <Nav className=\"ml-auto\" navbar>\r\n                <NavItem>\r\n                \r\n                    <Link className=\"hellocurrent\">Hello, {this.props.currentUser}</Link>\r\n               \r\n                </NavItem>\r\n                <NavItem>\r\n                  \r\n                    <Link to=\"/\" className=\"user-logout\" onClick={this.Logout.bind(this)}>Logout</Link>\r\n                 \r\n                </NavItem>\r\n              </Nav>\r\n            </Collapse>\r\n          </Navbar>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    //user-nav + jumbo\r\n    else if (this.props.loggedIn) {\r\n      return (\r\n        <div>\r\n\r\n          <div>\r\n            <Navbar light expand=\"md\" className=\"guest-nav fixed-top\">\r\n              <NavbarBrand href=\"/\">Dreamy</NavbarBrand>\r\n              <NavbarToggler onClick={this.toggle} />\r\n              <Collapse isOpen={this.state.isOpen} navbar>\r\n                <Nav className=\"ml-auto\" navbar>\r\n                  <NavItem>\r\n                    \r\n                      <Link className=\"hellocurrent\">Hello, {this.props.currentUser}</Link>\r\n                    \r\n                  </NavItem>\r\n                  <NavItem>\r\n                  \r\n                      <Link to=\"/\" className=\"user-logout\" onClick={this.Logout.bind(this)}>Logout</Link>\r\n                   \r\n                  </NavItem>\r\n                </Nav>\r\n              </Collapse>\r\n            </Navbar>\r\n          </div>\r\n\r\n          <div className=\"container\">\r\n            <header className=\"jumbotron jumbo-user\">\r\n              <h1 className=\"display-3\">Welcome, {this.props.currentUser}</h1>\r\n              <h1 className=\"lead\">Your vacation starts here!</h1>\r\n            </header>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      );\r\n    }\r\n\r\n    //only guest-nav\r\n    else {\r\n      return (\r\n        <div>\r\n          <Navbar light expand=\"md\" className=\"guest-nav fixed-top\">\r\n            <NavbarBrand href=\"/\">Dreamy</NavbarBrand>\r\n            <NavbarToggler onClick={this.toggle} />\r\n            <Collapse isOpen={this.state.isOpen} navbar>\r\n              <Nav className=\"ml-auto\" navbar>\r\n                <NavItem>\r\n                 \r\n                    <Link to=\"/signin\" className=\"signin-welcome\" onClick={this.toggle.bind(this)} >Sign-in</Link>\r\n                  \r\n                </NavItem>\r\n                <NavItem>\r\n                  \r\n                    <Link to=\"/signup\" className=\"signup-welcome\" onClick={this.toggle.bind(this)}>Sign-up</Link>\r\n                  \r\n                </NavItem>\r\n              </Nav>\r\n            </Collapse>\r\n          </Navbar>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  async Logout() {\r\n    \r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n    \r\n    let response = await fetch(\"http://18.218.236.231/users/logout\");\r\n    let data = await response.json();\r\n    this.props.dispatchLogout();\r\n    this.props.history.push(\"/\");\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedIn: state.loggedIn,\r\n    isAdmin: state.isAdmin,\r\n    currentUser: state.currentUser,\r\n    currentUserid: state.currentUserid,\r\n    placeholder: state.placeholder\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchLogout: () => {\r\n      dispatch(UserLogout());\r\n    }\r\n  };\r\n};\r\n\r\nconst header = connect(mapStateToProps, mapDispatchToProps)(Header);\r\n\r\nexport default withRouter(header);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { InputChange, DeleteVacation, GetAdminVacations, UpdateVacation } from \"../state/Actions\";\r\n\r\nclass AdminVacation extends Component {\r\n\r\n  state = {\r\n    editMode: false,\r\n    admin_vacations_status: \"\",\r\n    admin_edit_destination: \"\",\r\n    admin_edit_price: \"\",\r\n    admin_edit_description: \"\",\r\n    admin_edit_picture: \"\",\r\n    admin_edit_startdate: \"\",\r\n    admin_edit_enddate: \"\",\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.fileUpload = React.createRef();\r\n  }\r\n\r\n  render() {\r\n    if (this.state.editMode) {\r\n\r\n      return (\r\n\r\n        <div className=\"card vacation-card\">\r\n\r\n          <button onClick={this.discardEdit.bind(this)} type=\"button\" className=\"close\" aria-label=\"Close\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"discard\">\r\n            <span aria-hidden=\"true\"><i className=\"far fa-window-close discard-button\"></i></span>\r\n          </button>\r\n\r\n          <input\r\n            name=\"admin_edit_picture\"\r\n            placeholder=\"Enter new picture\"\r\n            ref={this.fileUpload}\r\n            onChange={this.saveAsBase64.bind(this)}\r\n            type='file' accept=\"image/*\"\r\n            className=\"form-control card-img-top picture-editable-input\" />\r\n          {(this.state && this.state.base64IFile !== null) && <img src={`data:image/png;base64,${this.state.admin_edit_picture}`} alt=\"\" className=\"picedit\" />}\r\n\r\n          <div className=\"card-body\">\r\n\r\n            <input className=\"card-title editable-input\"\r\n              name=\"admin_edit_destination\"\r\n              type=\"text\"\r\n              placeholder=\"Enter new destination\"\r\n              value={this.state.admin_edit_destination}\r\n              onChange={this.handleChange.bind(this)}\r\n            /><br />\r\n\r\n            <input className=\"card-title editable-input\"\r\n              name=\"admin_edit_price\"\r\n              type=\"text\"\r\n              placeholder=\"Enter new price\"\r\n              value={this.state.admin_edit_price}\r\n              onChange={this.handleChange.bind(this)}\r\n            /><br />\r\n\r\n            <input className=\"card-title editable-input\"\r\n              name=\"admin_edit_description\"\r\n              type=\"text\"\r\n              placeholder=\"Enter new description\"\r\n              value={this.state.admin_edit_description}\r\n              onChange={this.handleChange.bind(this)}\r\n            /><br />\r\n\r\n            <input className=\"card-title editable-input\"\r\n              name=\"admin_edit_startdate\"\r\n              type=\"text\"\r\n              placeholder=\"Enter start date\"\r\n              value={this.state.admin_edit_startdate}\r\n              onChange={this.handleChange.bind(this)}\r\n            /><br />\r\n\r\n            <input className=\"card-title editable-input\"\r\n              name=\"admin_edit_enddate\"\r\n              type=\"text\"\r\n              placeholder=\"Enter end date\"\r\n              value={this.state.admin_edit_enddate}\r\n              onChange={this.handleChange.bind(this)}\r\n            /><br />\r\n\r\n            <button className=\"btn btn-info update-button\" onClick={this.UpdateVacation.bind(this)} data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"save\" >\r\n              <i className=\"far fa-save\"></i>\r\n            </button>\r\n\r\n            <button className=\"btn btn-info delete-button\" onClick={this.DeleteVacation.bind(this)} data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"delete\" >\r\n              <i className=\"far fa-trash-alt\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    //Regular mode\r\n    else {\r\n      return (\r\n\r\n        <div className=\"card vacation-card\">\r\n        \r\n          <img name=\"picture\" className=\"card-img-top\" src={`data:image/png;base64,${this.props.vacation.picture}`} alt=\"\" />\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{this.props.vacation.destination}</h5>\r\n            <h5>Price: {this.props.vacation.price}$</h5>\r\n            <p className=\"card-text\">{this.props.vacation.description}</p>\r\n\r\n          </div>\r\n          <div className=\"card-footer\">\r\n            <h5>{this.props.vacation.startDate}-{this.props.vacation.endDate}</h5>\r\n            <button className=\"btn btn-info\" onClick={this.startEdit.bind(this)} >\r\n              <i className=\"far fa-edit\"></i>\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      );\r\n    }\r\n  }\r\n\r\n  startEdit() {\r\n    this.setState({ editMode: true });\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n      editMode: false,\r\n      admin_vacations_status: \"\",\r\n      admin_edit_destination: \"\",\r\n      admin_edit_price: \"\",\r\n      admin_edit_description: \"\",\r\n      admin_edit_picture: \"\",\r\n      admin_edit_startdate: \"\",\r\n      admin_edit_enddate: \"\",\r\n    });\r\n  }\r\n\r\n  saveAsBase64(event) {\r\n\r\n    const that = this;\r\n    const target = event.target;\r\n    var newFile = Array.from(target.files)[0];\r\n\r\n    var reader = new FileReader();\r\n\r\n    reader.onload = function () {\r\n      const newpic = btoa(reader.result);\r\n      that.setState({ admin_edit_picture: newpic });\r\n    };\r\n\r\n    reader.onerror = function () {\r\n      console.log('New picture was not uploaded');\r\n    };\r\n\r\n    reader.readAsBinaryString(newFile);\r\n  }\r\n\r\n  UpdateVacation() {\r\n    if (\r\n      this.state.admin_edit_description !== \"\" &&\r\n      this.state.admin_edit_destination !== \"\" &&\r\n      this.state.admin_edit_picture !== \"\" &&\r\n      this.state.admin_edit_startdate !== \"\" &&\r\n      this.state.admin_edit_enddate !== \"\" &&\r\n      this.state.admin_edit_price !== \"\")\r\n      if (this.state.admin_edit_description.length > 150)\r\n       { alert(\"Description too long\") }\r\n      else {\r\n        this.setState({ editMode: false });\r\n        this.props.dispatchUpdateVacation({\r\n          id: this.props.vacation.id,\r\n          description: this.state.admin_edit_description,\r\n          destination: this.state.admin_edit_destination,\r\n          picture: this.state.admin_edit_picture,\r\n          startDate: this.state.admin_edit_startdate,\r\n          endDate: this.state.admin_edit_enddate,\r\n          price: this.state.admin_edit_price\r\n        });\r\n      }\r\n    else {\r\n      alert(\"Please fill out all fields\")\r\n    }\r\n  }\r\n\r\n  async DeleteVacation() {\r\n    if (\r\n      window.confirm(\r\n        \"Are you sure you want to delete this vacation?\"\r\n      )\r\n    ) {\r\n      this.props.dispatchDeleteVacation({\r\n        id: this.props.vacation.id,\r\n        vacationid: this.props.vacation.id\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange(ev) {\r\n    this.setState({ [ev.target.name]: ev.target.value });\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUser: state.currentUser,\r\n    currentUserid: state.currentUserid,\r\n    admin_edit_destination: state.admin_edit_destination,\r\n    admin_edit_price: state.admin_edit_price,\r\n    admin_edit_description: state.admin_edit_description,\r\n    admin_edit_picture: state.admin_edit_picture,\r\n    admin_edit_startdate: state.admin_edit_startdate,\r\n    admin_edit_enddate: state.admin_edit_enddate,\r\n    placeholder: state.placeholder,\r\n    allvacations: state.allvacations,\r\n    admin_vacations: state.admin_vacations\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchInputChange: data => {\r\n      dispatch(InputChange(data));\r\n    },\r\n    dispatchUpdateVacation: updatedvacation => {\r\n      dispatch(UpdateVacation(updatedvacation));\r\n    },\r\n    dispatchDeleteVacation: deletedvacation => {\r\n      dispatch(DeleteVacation(deletedvacation));\r\n    },\r\n    dispatchGetAdminVacations: data => {\r\n      dispatch(GetAdminVacations(data));\r\n    },\r\n  };\r\n};\r\n\r\nconst adminVacation = connect(mapStateToProps, mapDispatchToProps)(AdminVacation);\r\n\r\nexport default withRouter(adminVacation);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, } from 'recharts';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport AdminVacation from './AdminVacation';\r\nimport { AdminLogin, GetAdminVacations, GetCountFollowers, AddVac, InputChange } from \"../state/Actions\";\r\n\r\nclass AdminHome extends Component {\r\n\r\n  state = {\r\n    graphMode: false,\r\n    new_destination: \"\",\r\n    new_description: \"\",\r\n    new_picture: \"\",\r\n    new_startDate: \"\",\r\n    new_endDate: \"\",\r\n    new_price: \"\",\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false\r\n    };\r\n    this.toggle = this.toggle.bind(this);\r\n    this.fileUpload = React.createRef();\r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => ({\r\n      modal: !prevState.modal,\r\n      new_picture: \"\",\r\n    }));\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.props.dispatchGetCountFollowers();\r\n    await this.props.dispatchGetAdminVacations();\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    //graph\r\n    if (this.state.graphMode) {\r\n\r\n      let followers_count = this.props.followers_count;\r\n      let data = followers_count.map(follow => {\r\n        return (\r\n          { name: follow.vacationid, 'number of followers': follow.followersCount }\r\n        );\r\n      })\r\n\r\n      return (\r\n        <div className=\"container-fluid graph\" >\r\n          <Button onClick={this.endGraph.bind(this)}>Back to vacations</Button>\r\n          <h2 className=\"graph-header\"> Number of followers by vacation-id:</h2>\r\n          <BarChart width={1000} height={500} data={data} margin={{ top: 50, right: 0, left: 140, bottom: 5, }}\r\n          >\r\n            <XAxis dataKey=\"name\" stroke=\"#4f4e4e\" />\r\n            <YAxis />\r\n            <Tooltip wrapperStyle={{ width: 100, backgroundColor: '#ccc' }} />\r\n            <Legend width={100} wrapperStyle={{ top: 40, right: 20, backgroundColor: '#f5f5f5', border: '1px solid #d5d5d5', borderRadius: 3, lineHeight: '40px' }} />\r\n            <CartesianGrid stroke=\"#4f4e4e\" strokeDasharray=\"5 5\" />\r\n            <Bar type=\"monotone\" dataKey=\"number of followers\" fill=\"#4f4e4e\" barSize={30} />\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <YAxis interval={1} />\r\n          </BarChart>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    //admin jumbo + vacations\r\n    else {\r\n      return (\r\n        <div>\r\n\r\n          <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\r\n            <ModalHeader toggle={this.toggle}>Add new vacation:</ModalHeader>\r\n            <ModalBody>\r\n              <div className=\"form-label-group\">\r\n                <input\r\n                  name=\"new_destination\"\r\n                  onChange={this.handleChange.bind(this)}\r\n                  type=\"text\" id=\"new_destination\"\r\n                  className=\"form-control\"\r\n                  required autoFocus >\r\n                </input>\r\n                <label htmlFor=\"new_destination\">Destination:</label>\r\n              </div>\r\n\r\n              <div className=\"form-label-group\">\r\n                <input\r\n                  name=\"new_description\"\r\n                  onChange={this.handleChange.bind(this)}\r\n                  type=\"text\" id=\"new_description\"\r\n                  className=\"form-control\"\r\n                  required >\r\n                </input>\r\n                <label htmlFor=\"new_description\">Description:</label>\r\n              </div>\r\n\r\n              <div className=\"form-label-group\">\r\n                <input\r\n                  name=\"new_price\"\r\n                  onChange={this.handleChange.bind(this)}\r\n                  type=\"text\" id=\"new_price\"\r\n                  className=\"form-control\"\r\n                  required >\r\n                </input>\r\n                <label htmlFor=\"new_price\">Price:</label>\r\n              </div>\r\n\r\n              <div className=\"form-label-group\">\r\n                <input\r\n                  name=\"new_picture\"\r\n                  ref={this.fileUpload}\r\n                  onChange={this.saveAsBase64.bind(this)}\r\n                  type='file' accept=\"image/*\"\r\n                  className=\"form-control\" />\r\n                {(this.state && this.state.base64IFile !== null) && <img src={`data:image/png;base64,${this.state.new_picture}`} alt=\"\" className=\"picupload\" />}\r\n\r\n                <label htmlFor=\"new_picture\">Picture:</label>\r\n              </div>\r\n\r\n              <div className=\"form-label-group\">\r\n                <input\r\n                  name=\"new_startDate\"\r\n                  onChange={this.handleChange.bind(this)}\r\n                  type=\"text\" id=\"new_startDate\"\r\n                  className=\"form-control\"\r\n                  required >\r\n                </input>\r\n                <label htmlFor=\"new_startDate\">Start date:</label>\r\n              </div>\r\n\r\n              <div className=\"form-label-group\">\r\n                <input\r\n                  name=\"new_endDate\"\r\n                  onChange={this.handleChange.bind(this)}\r\n                  type=\"text\" id=\"new_endDate\"\r\n                  className=\"form-control\"\r\n                  required >\r\n                </input>\r\n                <label htmlFor=\"new_endDate\">Start date:</label>\r\n              </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <Button color=\"primary\" onClick={this.addNewVacation.bind(this)} >Save</Button>{' '}\r\n              <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\r\n            </ModalFooter>\r\n          </Modal>\r\n\r\n          <div className=\"container\">\r\n\r\n            <header className=\"jumbotron jumbo-admin\">\r\n              <h1 className=\"display-3\">Welcome {this.props.currentUser}</h1>\r\n              <p className=\"lead\">Add, edit, delete or send updates to all followers!</p>\r\n              <Button className=\"btn btn-info graph-btn\" onClick={this.startGraph.bind(this)}>Watch followers-report</Button>\r\n              <Button className=\"btn btn-info add-btn\" color=\"info\" onClick={this.toggle} >Add new vacation</Button>\r\n            </header>\r\n\r\n            <div className=\"container admin-vacations\">\r\n              <div className=\"row\">\r\n                <div class=\"col\">\r\n                  {this.props.admin_vacations.map(vacation => <AdminVacation key={vacation.id} vacation={vacation} />)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n\r\n  saveAsBase64(event) {\r\n\r\n    const that = this;\r\n    const target = event.target;\r\n    var newFile = Array.from(target.files)[0];\r\n\r\n    var reader = new FileReader();\r\n\r\n    reader.onload = function () {\r\n      const newpic = btoa(reader.result);\r\n      that.setState({ new_picture: newpic });\r\n    };\r\n\r\n    reader.onerror = function () {\r\n      console.log('New picture was not uploaded');\r\n    };\r\n\r\n    reader.readAsBinaryString(newFile);\r\n  }\r\n\r\n  startGraph() {\r\n    this.setState({ graphMode: true });\r\n  }\r\n\r\n  endGraph() {\r\n    this.setState({ graphMode: false });\r\n  }\r\n\r\n\r\n  handleChange(ev) {\r\n    this.setState({ [ev.target.name]: ev.target.value });\r\n  }\r\n\r\n  addNewVacation() {\r\n    if (\r\n      this.state.new_destination !== \"\" &&\r\n      this.state.new_description !== \"\" &&\r\n      this.state.new_picture !== \"\" &&\r\n      this.state.new_startDate !== \"\" &&\r\n      this.state.new_endDate !== \"\" &&\r\n      this.state.new_price !== \"\")\r\n      if (this.state.new_description.length > 150) { alert(\"Description too long\") }\r\n      else {\r\n        this.setState({ modal: false });\r\n        this.props.dispatchAddVac({\r\n          description: this.state.new_destination,\r\n          destination: this.state.new_description,\r\n          picture: this.state.new_picture,\r\n          startDate: this.state.new_startDate,\r\n          endDate: this.state.new_endDate,\r\n          price: this.state.new_price\r\n        });\r\n      }\r\n    else {\r\n      alert(\"Please fill out all fields\")\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    //admin\r\n    isAdmin: state.isAdmin,\r\n    loggedIn: state.loggedIn,\r\n    currentUser: state.currentUser,\r\n    currentUserid: state.currentUserid,\r\n    admin_vacations: state.admin_vacations,\r\n    all_followed_vacations: state.all_followed_vacations,\r\n    followers_count: state.followers_count,\r\n\r\n    new_destination: state.new_destination,\r\n    new_description: state.new_description,\r\n    new_picture: state.new_picture,\r\n    new_startDate: state.new_startDate,\r\n    new_endDate: state.new_endDate,\r\n    new_price: state.new_price,\r\n\r\n    //user\r\n    user_followed_vacations: state.user_followed_vacations,\r\n    allvacations: state.allvacations,\r\n\r\n    placeholder: state.placeholder\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchGetAdminVacations: data => {\r\n      dispatch(GetAdminVacations(data));\r\n    },\r\n    dispatchGetCountFollowers: data => {\r\n      dispatch(GetCountFollowers(data));\r\n    },\r\n    dispatchAdminLogin: data => {\r\n      dispatch(AdminLogin(data));\r\n    },\r\n    dispatchAddVac: newvacation => {\r\n      dispatch(AddVac(newvacation));\r\n    },\r\n    dispatchInputChange: data => {\r\n      dispatch(InputChange(data));\r\n    },\r\n  }\r\n};\r\n\r\nconst adminHome = connect(mapStateToProps, mapDispatchToProps)(AdminHome)\r\n\r\nexport default withRouter(adminHome);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { GetUserVacations, FollowVacation } from '../state/Actions'\r\n\r\n\r\nclass Vacation extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"card vacation-card\">\r\n\r\n      <img name=\"picture\" className=\"card-img-top\" src={`data:image/png;base64,${this.props.vacation.picture}`} alt=\"\" />\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{this.props.vacation.destination}</h5>\r\n        <h5>Price: {this.props.vacation.price}$</h5>\r\n        <p className=\"card-text\">{this.props.vacation.description}</p>\r\n\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        <h5>{this.props.vacation.startDate}-{this.props.vacation.endDate}</h5>\r\n        <button className=\"btn btn-info\" onClick={this.followVacation.bind(this)} >\r\n          <i className=\"far fa-thumbs-up\"></i>\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n    );\r\n  }\r\n\r\n\r\n  async followVacation() {\r\n\r\n    await this.props.dispatchFollowVacation({\r\n      userid: this.props.currentUserid,\r\n      vacationid: this.props.vacation.id,\r\n      destination: this.props.vacation.destination\r\n    });\r\n\r\n    await this.props.dispatchGetUserVacations(this.props.currentUserid);\r\n\r\n    await this.props.refresh();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    currentUser: state.currentUser,\r\n    currentUserid: state.currentUserid,\r\n    placeholder: state.placeholder,\r\n    userid: state.currentUserid\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchFollowVacation: data => {\r\n      dispatch(FollowVacation(data));\r\n    },\r\n    dispatchGetUserVacations: data => {\r\n      dispatch(GetUserVacations(data));\r\n    },\r\n  };\r\n};\r\n\r\n\r\nconst vacation = connect(mapStateToProps, mapDispatchToProps)(Vacation);\r\n\r\nexport default withRouter(vacation);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { GetUserVacations, UnfollowVacation } from '../state/Actions'\r\n\r\nclass UserVacation extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"card vacation-card\">\r\n\r\n        <img name=\"picture\" className=\"card-img-top\" src={`data:image/png;base64,${this.props.vacation.picture}`} alt=\"\" />\r\n        <div className=\"card-body\">\r\n          <span className=\"spanthumbs text-info\">\r\n            <span className=\"spanthumbs text-info\" >\r\n              <i className=\"fas fa-thumbs-up\"></i>\r\n            </span>\r\n          </span>\r\n          <h5 className=\"card-title\">{this.props.vacation.destination}</h5>\r\n          <h5>Price: {this.props.vacation.price}$</h5>\r\n          <p className=\"card-text\">{this.props.vacation.description}</p>\r\n\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <h5>{this.props.vacation.startDate}-{this.props.vacation.endDate}</h5>\r\n          <button className=\"btn btn-info\" onClick={this.unfollowVacation.bind(this)} >\r\n            <i className=\"far fa-thumbs-down\"></i>\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  async unfollowVacation() {\r\n\r\n    await this.props.dispatchUnfollowVacation({\r\n      userid: this.props.currentUserid,\r\n      vacationid: this.props.vacation.id,\r\n      destination: this.props.vacation.destination\r\n    });\r\n\r\n    await this.props.dispatchGetUserVacations(this.props.currentUserid);\r\n\r\n    await this.props.refresh();\r\n  };\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    placeholder: state.placeholder,\r\n    currentUser: state.currentUser,\r\n    currentUserid: state.currentUserid,\r\n    userid: state.currentUserid\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchUnfollowVacation: data => {\r\n      dispatch(UnfollowVacation(data));\r\n    },\r\n    dispatchGetUserVacations: data => {\r\n      dispatch(GetUserVacations(data));\r\n    },\r\n\r\n  };\r\n};\r\n\r\nconst userVacation = connect(mapStateToProps, mapDispatchToProps)(UserVacation);\r\n\r\nexport default withRouter(userVacation);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nimport Vacation from \"./Vacation\";\r\nimport UserVacation from \"./UserVacation\";\r\n\r\nimport { GetUserVacations } from \"../state/Actions\";\r\nimport { UserLogin } from \"../state/Actions\";\r\n\r\nimport io from 'socket.io-client';\r\nconst socket = io('http://localhost');\r\n\r\n\r\nclass AllVacations extends Component {\r\n\r\n  state = {\r\n    msg: \"\"\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.refresh();\r\n\r\n    socket.on(\"updated_vacations\", (msg) => {\r\n      alert(msg)\r\n      this.props.dispatchGetUserVacations(this.props.currentUserid);\r\n\r\n    });\r\n\r\n  }\r\n\r\n  async refresh() {\r\n    let resp = await fetch(\"http://18.218.236.231/users/usersession\", {\r\n      // credentials: \"include\"\r\n    });\r\n    let user = await resp.json();\r\n\r\n    if (user.loggedIn) {\r\n      this.props.dispatchUserLogin(user);\r\n    }\r\n\r\n    this.props.dispatchGetUserVacations(this.props.currentUserid);\r\n  }\r\n\r\n  render() {\r\n    //user's vacations\r\n    if (this.props.loggedIn) {\r\n\r\n      if (this.props.user_followed_vacations == 0) {\r\n        return (\r\n          <div className=\"container-fluid\">\r\n            <h2>Follow our vacations and stay updated!</h2>\r\n            <div className=\"container all-vacations\">\r\n              <h2>More vacations:</h2>\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  {this.props.allvacations.map(vacation => (\r\n                    <Vacation\r\n                      key={vacation.id}\r\n                      vacation={vacation}\r\n                      refresh={this.refresh.bind(this)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      else {\r\n        return (\r\n          <div className=\"container-fluid\">\r\n\r\n            <div className=\"container fav-vacations\">\r\n              <h2>Your favorite vacations :</h2>\r\n              <h1>{this.props.user_vacations_status}</h1>\r\n              {console.log(this.props)}\r\n              <div className=\"row\">\r\n                <div class=\"col\">\r\n                  {this.props.user_followed_vacations.map(vacation => (\r\n                    <UserVacation\r\n                      key={vacation.id}\r\n                      vacation={vacation}\r\n                      refresh={this.refresh.bind(this)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"container all-vacations\">\r\n              <h2>More vacations:</h2>\r\n              <div className=\"row\">\r\n                <div class=\"col\">\r\n                  {this.props.allvacations.map(vacation => (\r\n                    <Vacation\r\n                      key={vacation.id}\r\n                      vacation={vacation}\r\n                      refresh={this.refresh.bind(this)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    //guest jumbo\r\n    else {\r\n      return (\r\n        <div className=\"container\">\r\n          <header className=\"jumbotron main-pic\">\r\n\r\n            <h1 className=\"display-3\">Welcome guest</h1>\r\n            <div className=\"main\">Join Dreamy!\r\n            <Link to=\"/signup\" className=\"btn btn-ingo btn-lg signup-jumbo\">Sign-up</Link>\r\n            </div>\r\n\r\n            <div className=\"main\">Already a member?\r\n            <Link to=\"/signin\" className=\"btn btn-ingo btn-lg signin-jumbo\">Sign-in</Link>\r\n            </div>\r\n\r\n          </header>\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedIn: state.loggedIn,\r\n    currentUser: state.currentUser,\r\n    currentUserid: state.currentUserid,\r\n    allvacations: state.allvacations,\r\n    user_followed_vacations: state.user_followed_vacations,\r\n    user_vacations_status: state.user_vacations_status,\r\n    placeholder: state.placeholder\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatchGetUserVacations: data => {\r\n      dispatch(GetUserVacations(data));\r\n    },\r\n    dispatchUserLogin: data => {\r\n      dispatch(UserLogin(data));\r\n    },\r\n  };\r\n};\r\n\r\nconst allVacations = connect(mapStateToProps, mapDispatchToProps)(AllVacations);\r\n\r\nexport default withRouter(allVacations);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n\r\nclass Footer extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <footer className=\"footer py-2 w-100 fixed-bottom\">\r\n                    <div className=\"text-center text-muted\">Copyright &copy; Tal Diamant-Sabag 2019 </div>\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Footer);\r\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport Signin from \"./components/Signin\"\nimport Signup from \"./components/Signup\"\nimport Header from \"./components/Header\";\nimport AdminHome from \"./components/AdminHome\";\nimport AllVacations from \"./components/AllVacations\"\nimport Footer from \"./components/Footer\";\n\nimport { GetUserVacations, UserLogin } from \"./state/Actions\";\n\nclass App extends Component {\n\n  async componentDidMount() {\n    let response = await fetch(\"http://18.218.236.231/users/usersession\");\n    let user = await response.json();\n\n    if (user.loggedIn) {\n      this.props.dispatchUserLogin(user);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid welcome\">\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={AllVacations} />\n          <Route path=\"/signup\" component={Signup} />\n          <Route path=\"/signin\" component={Signin} />\n          <Route patj=\"/admin\" component={AdminHome} />\n        </Switch>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    placeholder: state.placeholder,\n    loggedIn: state.loggedIn\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatchGetUserVacations: () => {\n      dispatch(GetUserVacations());\n    },\n    dispatchUserLogin: data => {\n      dispatch(UserLogin(data));\n    }\n  };\n};\n\nconst app = connect(mapStateToProps, mapDispatchToProps)(App);\n\nexport default withRouter(app);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport Reducer from \"./state/Reducer\";\nimport thunk from \"redux-thunk\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nconst store = createStore(Reducer, composeWithDevTools(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}